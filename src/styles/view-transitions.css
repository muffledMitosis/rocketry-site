/* View Transitions API CSS */

/* Enable view transitions for the root */
:root {
  view-transition-name: root;
}

/* Default page transition */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.4s;
  animation-timing-function: ease-in-out;
}

::view-transition-old(root) {
  animation-name: fade-out;
}

::view-transition-new(root) {
  animation-name: fade-in;
}

/* Custom fade animations */
@keyframes fade-out {
  from {
    opacity: 1;
    transform: scale(1);
    filter: blur(0px);
  }
  to {
    opacity: 0;
    transform: scale(0.98);
    filter: blur(2px);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(1.02);
    filter: blur(2px);
  }
  to {
    opacity: 1;
    transform: scale(1);
    filter: blur(0px);
  }
}

/* Logo transition across pages */
::view-transition-old(logo),
::view-transition-new(logo) {
  animation-duration: 0.6s;
  animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

::view-transition-old(logo) {
  animation-name: logo-fade-out;
}

::view-transition-new(logo) {
  animation-name: logo-fade-in;
}

@keyframes logo-fade-out {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0.8;
    transform: scale(0.9) translateY(-10px);
  }
}

@keyframes logo-fade-in {
  from {
    opacity: 0.8;
    transform: scale(0.9) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Navigation items transition */
::view-transition-old(nav-item),
::view-transition-new(nav-item) {
  animation-duration: 0.3s;
  animation-timing-function: ease-out;
}

::view-transition-old(nav-item) {
  animation-name: nav-fade-out;
}

::view-transition-new(nav-item) {
  animation-name: nav-fade-in;
}

@keyframes nav-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-5px);
  }
}

@keyframes nav-fade-in {
  from {
    opacity: 0;
    transform: translateY(5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Hero title transition */
::view-transition-old(hero-title),
::view-transition-new(hero-title) {
  animation-duration: 0.8s;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
}

::view-transition-old(hero-title) {
  animation-name: hero-slide-out;
}

::view-transition-new(hero-title) {
  animation-name: hero-slide-in;
}

@keyframes hero-slide-out {
  from {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateX(-50px) scale(0.95);
  }
}

@keyframes hero-slide-in {
  from {
    opacity: 0;
    transform: translateX(50px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

/* Page content slide transition */
::view-transition-old(page-content),
::view-transition-new(page-content) {
  animation-duration: 0.5s;
  animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
}

::view-transition-old(page-content) {
  animation-name: content-slide-out;
}

::view-transition-new(page-content) {
  animation-name: content-slide-in;
}

@keyframes content-slide-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

@keyframes content-slide-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fallback for browsers without view transitions */
.page-transitioning {
  transition: opacity 0.3s ease-in-out;
}

.page-transitioning * {
  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root),
  ::view-transition-new(root),
  ::view-transition-old(logo),
  ::view-transition-new(logo),
  ::view-transition-old(nav-item),
  ::view-transition-new(nav-item),
  ::view-transition-old(hero-title),
  ::view-transition-new(hero-title),
  ::view-transition-old(page-content),
  ::view-transition-new(page-content) {
    animation-duration: 0.1s;
  }

  .page-transitioning {
    transition-duration: 0.1s;
  }

  .page-transitioning * {
    transition-duration: 0.1s;
  }
}